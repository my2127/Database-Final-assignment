# Database-Final-assignment
#データベース最終課題グループ内訳
　my2127:2441096 横路雅也
  ts42ms45sk05:2441092 矢部佑真
  nano01025:2441068 野島圭吾
  MOB-79:2441079 船場健太
  Akira-2441029:2441092 クーケオキンタレアキラ

#システム全体構成図
┌─────────────────────┐
│   クライアント層     │  ← ユーザーが操作する画面
└──────────┬──────────┘
           │ HTTPS
           ↓
┌─────────────────────┐
│   ロードバランサー   │  ← トラフィック分散
└──────────┬──────────┘
           │
           ↓
┌─────────────────────┐
│   Webサーバー層      │  ← 静的ファイル配信
└──────────┬──────────┘
           │
           ↓
┌─────────────────────┐
│ アプリケーション層   │  ← ビジネスロジック処理
└──────────┬──────────┘
           │
           ↓
┌─────────────────────┐
│   データベース層     │  ← データ永続化
└─────────────────────┘


#詳細構成図（Web 3層アーキテクチャ）
┌──────────────────────────────────┐
                          │      Internet / Users            │
                          └────────────┬─────────────────────┘
                                       │
                                       │ HTTPS (443)
                                       ↓
                          ┌──────────────────────────────────┐
                          │  Application Load Balancer (ALB) │
                          │  - ヘルスチェック                 │
                          │  - SSL/TLS終端                    │
                          │  - セッション維持                 │
                          └────────┬──────────┬───────────────┘
                                   │          │
                    HTTP (80)      │          │      HTTP (80)
                                   ↓          ↓
            ┌──────────────────────┐          ┌──────────────────────┐
            │   Nginx Web Server 1 │          │  Nginx Web Server 2  │
            │   t3.small (2vCPU)   │          │  t3.small (2vCPU)    │
            │   - 静的ファイル配信  │          │  - 静的ファイル配信   │
            │   - リバースプロキシ  │          │  - リバースプロキシ   │
            └──────────┬────────────┘          └──────────┬───────────┘
                       │                                  │
                       └──────────────┬───────────────────┘
                                      │
                               内部通信
                                      ↓
            ┌──────────────────────────────────────────────────────┐
            │        Application Server (Auto Scaling Group)       │
            │                                                       │
            │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐
            │  │ FastAPI AP 1 │  │ FastAPI AP 2 │  │ FastAPI AP 3 │
            │  │ t3.medium    │  │ t3.medium    │  │ t3.medium    │
            │  │ (2vCPU,4GB)  │  │ (2vCPU,4GB)  │  │ (2vCPU,4GB)  │
            │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘
            │         │                 │                 │         │
            └─────────┼─────────────────┼─────────────────┼─────────┘
                      │                 │                 │
                      └─────────┬───────┴─────────────────┘
                                │
                                ↓
            ┌───────────────────────────────────────────────────────┐
            │              Database & Cache Layer                   │
            │                                                        │
            │  ┌──────────────────┐         ┌──────────────────┐   │
            │  │  PostgreSQL      │         │  Redis           │   │
            │  │  (Primary)       │         │  ElastiCache     │   │
            │  │  db.t3.small     │◄───────►│  cache.t3.micro  │   │
            │  │  Multi-AZ        │         │  - Session       │   │
            │  │  - User Data     │         │  - Cache         │   │
            │  │  - Inventory     │         └──────────────────┘   │
            │  │  - Recipes       │                                │
            │  └────────┬─────────┘                                │
            │           │                                           │
            │           │ Replication                               │
            │           ↓                                           │
            │  ┌──────────────────┐                                │
            │  │  PostgreSQL      │                                │
            │  │  (Standby)       │                                │
            │  │  db.t3.small     │                                │
            │  │  別AZ配置         │                                │
            │  └──────────────────┘                                │
            └───────────────────────────────────────────────────────┘
                                │
                                ↓
            ┌───────────────────────────────────────────────────────┐
            │          External Services (Internet経由)             │
            │                                                        │
            │  ┌──────────────┐  ┌──────────────┐  ┌─────────────┐ │
            │  │ Vector DB    │  │ 楽天レシピAPI │  │ OpenAI API  │ │
            │  │ (Pinecone)   │  │ Recipe Data  │  │ Embeddings  │ │
            │  │ Recipe Search│  │              │  │             │ │
            │  └──────────────┘  └──────────────┘  └─────────────┘ │
            └───────────────────────────────────────────────────────┘
